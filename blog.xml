<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Andrew Mitchell</title>
<link>https://drandrewmitchell.com/blog.html</link>
<atom:link href="https://drandrewmitchell.com/blog.xml" rel="self" type="application/rss+xml"/>
<description>Personal website of Andrew Mitchell</description>
<generator>quarto-1.5.57</generator>
<lastBuildDate>Mon, 28 Oct 2024 00:00:00 GMT</lastBuildDate>
<item>
  <title>Managing Independent Quarto Papers in an Academic Website</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/2024-10-28_quarto-paper-fetch/</link>
  <description><![CDATA[ 





<section id="managing-independent-quarto-papers-in-an-academic-website" class="level1">
<h1>Managing Independent Quarto Papers in an Academic Website</h1>
<section id="the-problem-managing-complex-dependencies-in-academic-publishing" class="level2">
<h2 class="anchored" data-anchor-id="the-problem-managing-complex-dependencies-in-academic-publishing">The Problem: Managing Complex Dependencies in Academic Publishing</h2>
<p>When publishing academic papers as Quarto documents, each paper often requires its own specific set of packages and dependencies. This becomes particularly challenging when hosting multiple papers on a single Quarto website. Consider a computational acoustics paper from 2022 using <code>librosa 0.8</code> alongside a 2024 paper requiring <code>librosa 0.10</code> - both needing different dependency chains and Python versions.</p>
<p>A typical academic website structure might look like:</p>
<pre><code>my-academic-website/
├── research/
│   ├── paper1/  # Uses numpy 1.20, pandas 1.3, librosa 0.8
│   ├── paper2/  # Requires numpy 1.24, pandas 2.0
│   └── paper3/  # Needs latest versions of everything
├── _quarto.yml
└── environment.yml</code></pre>
<p>Since Quarto renders all content using the same virtual environment, we face several challenges:</p>
<ul>
<li>Version conflicts between papers</li>
<li>Dependency resolution becoming increasingly complex</li>
<li>Difficulty in reproducing old papers</li>
<li>Maintenance burden growing with each new paper</li>
</ul>
</section>
<section id="a-solution-pre-rendered-paper-integration" class="level2">
<h2 class="anchored" data-anchor-id="a-solution-pre-rendered-paper-integration">A Solution: Pre-rendered Paper Integration</h2>
<p>Instead of wrestling with dependency management in a single environment, we can treat each paper as an independent project that gets integrated into the main website post-rendering. This approach has several key components:</p>
<ol type="1">
<li>Independent paper repositories with:
<ul>
<li>Self-contained environments</li>
<li>Complete reproducibility setup</li>
<li>Pre-rendered content</li>
<li>All supporting materials</li>
</ul></li>
<li>Main website that:
<ul>
<li>Pulls in pre-rendered content</li>
<li>Maintains consistent structure</li>
<li>Integrates papers seamlessly</li>
<li>Handles updates efficiently</li>
</ul></li>
</ol>
</section>
<section id="implementation-details" class="level2">
<h2 class="anchored" data-anchor-id="implementation-details">Implementation Details</h2>
<section id="paper-repository-structure" class="level3">
<h3 class="anchored" data-anchor-id="paper-repository-structure">Paper Repository Structure</h3>
<p>Each paper repository follows a standard Quarto structure:</p>
<pre><code>paper-repo/
├── paper.qmd
├── figures/
├── _freeze/
│   └── paper/
│       ├── execute-results/
│       └── figures/
├── references.bib
├── pyproject.toml
└── _quarto.yml</code></pre>
<p>The crucial elements here are: - Pre-rendered content in <code>_freeze/</code> - All dependencies specified in <code>pyproject.toml</code> or <code>requirements.txt</code> - Supporting files organized consistently</p>
<p>The solution consists of three main components:</p>
</section>
<section id="configuration-file-_paper_sources.yml" class="level3">
<h3 class="anchored" data-anchor-id="configuration-file-_paper_sources.yml">1. Configuration File (<code>_paper_sources.yml</code>)</h3>
<p>Define which papers to include and where they should go:</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">papers</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo_url</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/username/paper1.git"</span></span>
<span id="cb3-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">target_folder</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"paper1"</span></span>
<span id="cb3-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo_url</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/username/paper2.git"</span></span>
<span id="cb3-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">target_folder</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"paper2"</span></span></code></pre></div>
</section>
<section id="paper-fetcher-script" class="level3">
<h3 class="anchored" data-anchor-id="paper-fetcher-script">2. Paper Fetcher Script</h3>
<p>The fetcher script runs as a pre-render step in your Quarto website build process. Add to <code>_quarto.yml</code>:</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">project</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pre-render</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"python fetch_papers.py"</span></span></code></pre></div>
<p>The script:</p>
<ul>
<li>Reads the paper configuration</li>
<li>Clones each paper repository</li>
<li>Copies pre-rendered content to the appropriate website location</li>
<li>Maintains Quarto’s freeze directory structure</li>
</ul>
</section>
<section id="individual-paper-repositories" class="level3">
<h3 class="anchored" data-anchor-id="individual-paper-repositories">3. Individual Paper Repositories</h3>
<p>Each paper repository contains:</p>
<ul>
<li>Quarto source files (.qmd or .ipynb)</li>
<li>Paper-specific dependencies</li>
<li>Pre-rendered content</li>
<li>Supporting files (figures, references, etc.)</li>
</ul>
<p>Importantly, the papers need to be rendered with freeze enabled, keeping the <code>ipynb</code>, and the html render cannot use <code>embed_resources</code>.</p>
</section>
</section>
<section id="the-code" class="level2">
<h2 class="anchored" data-anchor-id="the-code">The Code</h2>
<p>You can find the scripts for this process within the repo for my own personal website: <a href="https://github.com/MitchellAcoustics/quarto-website">https://github.com/MitchellAcoustics/quarto-website</a>.</p>
<p>To start, I’ve used it to integrate my paper on analysing soundscape data which has its own repo here: <a href="https://github.com/MitchellAcoustics/JASAEL-HowToAnalyseQuantiativeSoundscapeData">https://github.com/MitchellAcoustics/JASAEL-HowToAnalyseQuantiativeSoundscapeData</a></p>
<section id="integration-process" class="level3">
<h3 class="anchored" data-anchor-id="integration-process">Integration Process</h3>
<p>The integration process involves several careful considerations:</p>
<ol type="1">
<li><p><strong>File Management</strong>: We need to:</p>
<ul>
<li>Copy only necessary files</li>
<li>Maintain Quarto’s directory structure</li>
<li>Handle different paper formats (.qmd, .ipynb)</li>
<li>Preserve supporting materials</li>
</ul></li>
<li><p><strong>Version Control</strong>: Track which version of each paper is integrated:</p></li>
</ol>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> get_repo_info(repo_url: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, branch: Optional[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>], commit: Optional[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb5-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Get the latest commit hash for version tracking."""</span></span>
<span id="cb5-3">    ref <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> commit <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">or</span> branch <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">or</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HEAD"</span></span>
<span id="cb5-4">    commit_hash <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> subprocess.check_output(</span>
<span id="cb5-5">        [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ls-remote"</span>, repo_url, ref]</span>
<span id="cb5-6">    ).decode().split()[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]</span>
<span id="cb5-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> commit_hash</span></code></pre></div>
<ol start="3" type="1">
<li><strong>Update Management</strong>: Only update papers when needed:</li>
</ol>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> check_update_needed(paper_dir: Path, current_hash: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span>:</span>
<span id="cb6-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Check if paper needs updating based on commit hash."""</span></span>
<span id="cb6-3">    hash_file <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> paper_dir <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"last_commit.txt"</span></span>
<span id="cb6-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> hash_file.exists():</span>
<span id="cb6-5">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span>
<span id="cb6-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> hash_file.read_text().strip() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> current_hash</span></code></pre></div>
<ol start="4" type="1">
<li><strong>Error Handling</strong>: Robust error handling for various failure modes:</li>
</ol>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> process_paper(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, paper: PaperSource) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span>:</span>
<span id="cb7-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Process a single paper with comprehensive error handling."""</span></span>
<span id="cb7-3">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">try</span>:</span>
<span id="cb7-4">        result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.run_fetch_script(paper)</span>
<span id="cb7-5">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> result.success:</span>
<span id="cb7-6">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.cleanup_paper_directory(paper)</span>
<span id="cb7-7">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span>
<span id="cb7-8">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span>
<span id="cb7-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">except</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">Exception</span> <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> e:</span>
<span id="cb7-10">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.logger.error(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Unexpected error: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>e<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-11">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.cleanup_paper_directory(paper)</span>
<span id="cb7-12">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span></code></pre></div>
</section>
<section id="configuration-management" class="level3">
<h3 class="anchored" data-anchor-id="configuration-management">Configuration Management</h3>
<p>Papers are configured through a YAML file:</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">papers</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb8-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo_url</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/username/paper1.git"</span></span>
<span id="cb8-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">target_folder</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"acoustics_2022"</span></span>
<span id="cb8-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">branch</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"main"</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  # optional</span></span>
<span id="cb8-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">commit</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abc123"</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  # optional: pin to specific version</span></span>
<span id="cb8-6"></span>
<span id="cb8-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo_url</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/username/paper2.git"</span></span>
<span id="cb8-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">target_folder</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"soundscapes_2024"</span></span></code></pre></div>
<p>This provides:</p>
<ul>
<li>Clear paper management</li>
<li>Version control options</li>
<li>Flexible organization</li>
<li>Easy addition/removal of papers</li>
</ul>
</section>
<section id="directory-structure-management" class="level3">
<h3 class="anchored" data-anchor-id="directory-structure-management">Directory Structure Management</h3>
<p>The fetcher maintains a specific directory structure in the main website:</p>
<pre><code>website/
├── research/papers/
│   └── {PAPER_TARGET_FOLDER}/
│       ├── paper.qmd
│       ├── figures/
│       └── references.bib
└── _freeze/research/papers/
    └── {PAPER_TARGET_FOLDER}/
        └── {BASE_NAME}/
            ├── execute-results/
            └── figures/</code></pre>
<p>This structure is crucial for:</p>
<ul>
<li>Quarto’s rendering process</li>
<li>Website organization</li>
<li>Paper independence</li>
<li>Resource management</li>
</ul>
</section>
</section>
<section id="implementation-considerations" class="level2">
<h2 class="anchored" data-anchor-id="implementation-considerations">Implementation Considerations</h2>
<p>Several key factors influenced the implementation:</p>
<ol type="1">
<li><p><strong>Bash vs.&nbsp;Python Split</strong></p>
<ul>
<li>Python handles orchestration and paper management</li>
<li>Bash handles file operations and Git interactions</li>
<li>This split provides flexibility and maintainability</li>
</ul></li>
<li><p><strong>Error Handling Strategy</strong></p>
<ul>
<li>Each paper processes independently</li>
<li>Failures don’t affect other papers</li>
<li>Clean up on failure</li>
<li>Detailed logging for troubleshooting</li>
</ul></li>
<li><p><strong>Update Efficiency</strong></p>
<ul>
<li>Track paper versions via Git commits</li>
<li>Only update changed papers</li>
<li>Force update option available</li>
<li>Preserve local modifications</li>
</ul></li>
<li><p><strong>File Copying Logic</strong></p></li>
</ol>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">copy_files()</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span></span>
<span id="cb10-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Copy main paper files</span></span>
<span id="cb10-3">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> ext <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${PAPER_EXTENSIONS</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[@]</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">do</span></span>
<span id="cb10-4">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-f</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$source_dir</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${base_name}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">.</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${ext}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb10-5">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cp</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$source_dir</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${base_name}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">.</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${ext}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PAPER_DIR</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/"</span></span>
<span id="cb10-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">done</span></span>
<span id="cb10-7"></span>
<span id="cb10-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Copy support files and directories</span></span>
<span id="cb10-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> dir <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${SUPPORT_DIRS</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[@]</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">do</span></span>
<span id="cb10-10">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$source_dir</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$dir</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cp</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$source_dir</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$dir</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PAPER_DIR</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/"</span></span>
<span id="cb10-11">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">done</span></span>
<span id="cb10-12">    </span>
<span id="cb10-13">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Handle freeze directory specially</span></span>
<span id="cb10-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$freeze_source</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb10-15">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$freeze_target</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb10-16">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cp</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$freeze_source</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>/<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$freeze_target</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/"</span></span>
<span id="cb10-17">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb10-18"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="usage-and-integration" class="level2">
<h2 class="anchored" data-anchor-id="usage-and-integration">Usage and Integration</h2>
<p>The system integrates with Quarto’s build process:</p>
<ol type="1">
<li><strong>Configuration in <code>_quarto.yml</code></strong>:</li>
</ol>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">project</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb11-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pre-render</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"python fetch_papers.py"</span></span>
<span id="cb11-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">render</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb11-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"research/papers/**/*.qmd"</span></span></code></pre></div>
<ol start="2" type="1">
<li><strong>Manual Usage</strong>:</li>
</ol>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Normal update</span></span>
<span id="cb12-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> fetch_papers.py</span>
<span id="cb12-3"></span>
<span id="cb12-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Force update all papers</span></span>
<span id="cb12-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> fetch_papers.py <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--force</span></span>
<span id="cb12-6"></span>
<span id="cb12-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Debug mode for troubleshooting</span></span>
<span id="cb12-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> fetch_papers.py <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--debug</span></span></code></pre></div>
</section>
<section id="the-result" class="level2">
<h2 class="anchored" data-anchor-id="the-result">The Result</h2>
<p>After running the fetch process, papers are integrated into the website with this structure:</p>
<pre><code>website/
├── research/papers/
│   ├── paper1/
│   │   ├── paper.qmd
│   │   ├── figures/
│   │   └── references.bib
│   └── paper2/
└── _freeze/research/papers/
    ├── paper1/
    └── paper2/</code></pre>
<p>Each paper maintains its own integrity while being seamlessly integrated into the main website. Papers can be developed independently with their own dependencies, yet still appear as a cohesive part of your academic website.</p>
<p>This solution, while specific to my needs, demonstrates how to manage complex document dependencies in Quarto projects. The key is leveraging Quarto’s pre-render hooks and freeze directory structure to integrate pre-rendered content while maintaining independent development environments for each paper.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>This solution, while specific to my needs, demonstrates an approach to managing complex document dependencies in Quarto projects. The key insights are:</p>
<ol type="1">
<li>Leverage Quarto’s pre-render hooks</li>
<li>Use Git for version control and updates</li>
<li>Maintain clean separation of concerns</li>
<li>Provide robust error handling</li>
<li>Keep paper environments independent</li>
</ol>
<p>The result is a maintainable system that allows each paper to exist independently while still being part of a cohesive website.</p>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>code</category>
  <guid>https://drandrewmitchell.com/posts/2024-10-28_quarto-paper-fetch/</guid>
  <pubDate>Mon, 28 Oct 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Exploring Soundscape Engineering at UCL: A Mission to Combat Noise Pollution</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/2024-03-15_mission-responsible/</link>
  <description><![CDATA[ 





<p>I’m thrilled to share that I recently had the honor of being a guest on the “Mission: Responsible” podcast with Drs Shini Somara and Simon Clarke! In this episode, we delve into the critical issue of noise pollution and explore how soundscape engineering can be a powerful tool in mitigating its impact on our health and environment.</p>
<p>Here’s a sneak peek into my contribution:</p>
<ul>
<li><p>Soundscape Engineering: As an advocate for sustainable solutions, I discussed the fascinating field of soundscape engineering. This innovative discipline focuses on taking a holistic approach to shaping the acoustic environment to enhance well-being, reduce noise-related stress, and create harmonious spaces. From urban planning to architectural design, soundscape engineering will play a pivotal role in creating healthier cities in the future.</p></li>
<li><p>UCL Soundscape Lab: During the podcast, I shared insights from the Soundscape Lab at University College London (UCL). This cutting-edge research facility is at the forefront of unraveling the complexities of soundscapes. We explored how advanced modeling techniques help us understand noise patterns, identify sources, and design interventions that promote tranquility.</p></li>
</ul>
<p>I invite you to listen to the full episode on the “Mission: Responsible” podcast, where we dive deep into the intersection of technology, responsibility, and environmental well-being. Listen here!</p>
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/3XoMoQgOcm7yYbIHdnHnKl?utm_source=generator" width="100%" height="352" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
</iframe>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>podcast</category>
  <guid>https://drandrewmitchell.com/posts/2024-03-15_mission-responsible/</guid>
  <pubDate>Fri, 15 Mar 2024 00:00:00 GMT</pubDate>
  <media:content url="https://deow9bq0xqvbj.cloudfront.net/ep-logo/pbblog17880821/Ep2_5ddkiu.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Appearance on Across Acoustics</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/across-acoustics/</link>
  <description><![CDATA[ 





<p>I recently appeared on the official podcast of the Acoustical Society of America to talk about <a href="../../research/papers/2022-03-16_JASAEL-HowToAnalyseQuantitativeSoundscapeData/paper.html">my paper</a> which was published in JASA Express Letters last year.</p>
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/episode/36J5RFBkugv5T8XmCtGD3i?utm_source=generator" width="100%" height="352" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
</iframe>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>podcast</category>
  <guid>https://drandrewmitchell.com/posts/across-acoustics/</guid>
  <pubDate>Fri, 14 Apr 2023 00:00:00 GMT</pubDate>
  <media:content url="https://drandrewmitchell.com/posts/across-acoustics/across-acoustics-logo.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Navigating the UK Graduate Visa Process: A PhD Graduate’s Experience</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/visa-process/</link>
  <description><![CDATA[ 





<p>I recently finished my PhD (yay!) and went through the process of applying for a UK Graduate Visa. Although I had a job offer lined up, I chose the Graduate Visa route instead of a standard Work Visa. In this blog post, I’ll explain my motivations for this decision and give an overview of the process.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Disclaimer: I am not an immigration lawyer or an expert on visa processes. I’m merely trying to relay my personal experience and help people going through the process get a detailed look at what the timelines are like. None of this should be construed as legal advice.</p>
</div>
</div>
<p>The UK Graduate Visa is a type of visa that allows international students who have completed a degree programme in the UK to stay in the country for a longer period after graduation. The visa provides the opportunity to work and settle in the UK. When I completed my Bachelor’s at Cardiff University in 2015, there were limited options to remain in the country and limited benefits for having graduated from a UK university.</p>
<p>Thankfully this has changed somewhat with the introduction of the Graduate Visa.</p>
<p>At the time, the best option was the standard Tier 2 Skilled Worker visa. By applying for this visa from a student visa, my employer and I were able to bypass some standard work checks and I was exempt from salary requirements. However, when I was granted this visa in 2015, it was only valid for a year. When I was offered a new job with a different company, I was required to apply for a new work visa, this time subject to all the requirements.</p>
<p>This became a problem when the new job did not meet the increased salary requirements and my visa application was denied. Despite having lived in the UK for four years, earned a BSc in Physics &amp; Music, and being actively recruited for the job, I was forced to leave the country and return to the US.</p>
<hr>
<p>When I completed my PhD and was offered a Research Fellowship at UCL, I had to decide between applying for a Skilled Worker visa or a Graduate visa. Given my previous experience with work visas, I chose the Graduate visa. Unlike the Skilled Worker visa, the Graduate visa allows PhD graduates to remain in the UK with minimal restrictions for three years, without having to reapply each time they take on a new contract or change jobs.</p>
<p>However, there were some challenges I faced when applying for the Graduate visa. Firstly, I had to pay for the visa myself, as my prospective employer would not cover the cost for the Graduate visa since I was no longer guaranteed to work for them. Secondly, the timeline for applying for the visa was difficult; you cannot apply for the visa until you have completed everything and been awarded your degree - this means passing the viva, submitting corrections, and having those corrections approved by your examiners. From thesis submission to completion can take anywhere from 3 months to a year and a half. And this is all assuming you submit on time!</p>
<p>Despite these challenges, my experience with the Graduate visa application was relatively smooth, and it was a more straightforward process compared to the Student visa or the Work visa. Although there was still some stress and uncertainty, I didn’t encounter any major issues and I was able to successfully obtain the visa.</p>
<section id="my-graduate-visa-timeline" class="level2">
<h2 class="anchored" data-anchor-id="my-graduate-visa-timeline">My Graduate Visa timeline</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Some parts of this process may be specific to UCL, however the general outline should be universal. The fact that UCL lists your official completion date as the 28th of whatever month you fulfilled all of the requirements is probably specific to UCL, but there may be similar policies at other unis. I think it’s important to be aware of this sort of thing (which no one ever tells you about) especially if you’re working to potentially tight timelines.</p>
</div>
</div>
<p>To help give a concrete example for people of what this timeline looks like, I’ve laid out the exact dates for each step of my process. My Student Visa was set to expire in January of the next year, so I planned out the timeline preparing for lots of delays and issues to make sure my right to stay and work wouldn’t be in jeopardy.</p>
<ul>
<li>[June 06] - Thesis submission</li>
<li>[Sept 08] - Viva</li>
<li>[Sept 09] - Receive report and corrections from examiners</li>
<li>[Sept 26] - Submit my corrections to examiners</li>
<li>[Sept 30] - Examiners confirm their acceptance via email to me and formally inform UCL. (I had very responsive examiners and minimal corrections so this was quite fast)</li>
<li>[Sept 30] - UCL sends email confirming they received the notification from examiners and instructed my to upload an electronic copy of the thesis.</li>
<li>[Oct 03] - UCL sends confirmation of results email. This confirms all of the details of my degree: Name, programme, start date, end date, etc. <strong>Importantly, the official date of the award is the 28th of the month you fulfill all of the requirements (i.e.&nbsp;upload the electronic copy).</strong> For me, even though I uploaded on the 30th, they back dated it to the 28th of September. If I had finished everything on the 1st October, my official award date would have been 28th October.</li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Very important note: you cannot submit your visa application until the University informs the Home Office you have completed your degree. This is not the same as them sending your certificate to you. This is a separate process and should be automatically done directly from the University to the Home Office.</p>
</div>
</div>
<ul>
<li>[Oct 19] - Confirmation that UCL has informed the Home Office about my degree. Now I can submit the visa application. I think if my official date had been delayed to October 28th, I wouldn’t have been able to submit my visa application until after that date.</li>
<li>[Oct 19] - Submit visa application and pay application fees and immigration health surcharge.</li>
<li>[Nov 22] - Visa granted.</li>
</ul>
<p>If you were fully funded (100% tuition and stipend) during your PhD, you will need to provide evidence from your funder that they consent to your Graduate Visa application. The reason for this requirement is unclear, but it is important to note. If you were not fully funded, you may not need to provide this consent, but it is still a good idea to be prepared in case it is required. To ease my worries, my supervisor, who was the principal investigator on my funding grant, and I drafted a letter addressing this issue. Although the Home Office did not mention it, it is always better to be safe than sorry.</p>
<p>This information is intended to give you an idea of what the application process looks like. Please note that the experience may vary from person to person. For example, my submission, viva, and correction process was quick and straightforward, which may not be the case for everyone.</p>
<p>In conclusion, the UK Graduate Visa provides an attractive option for international PhD graduates looking to stay in the UK and further their careers. While there may be some challenges in the application process, especially for those who were fully funded during their PhD studies, the benefits of not having to reapply for a work visa every time you change jobs and the freedom to change careers make it a worthwhile option to consider. Overall, my experience with the Graduate Visa application was positive and I hope this article provides some helpful insight for those who may be considering it in the future.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>website</category>
  <guid>https://drandrewmitchell.com/posts/visa-process/</guid>
  <pubDate>Wed, 01 Feb 2023 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Questions on predictive soundscape modelling</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/2022-04-25_q-on-ss-modelling/</link>
  <description><![CDATA[ 





<p><em>Do you think there is reasonable validity in lab-based soundscape evaluation?</em></p>
<p>Depending on the quality of the lab presentation, yes. Virtual Reality systems, either with ambisonic playback or with head-tracked binaural, along with a head mounted display appear to achieve at least acceptable levels of ecological validity (<a href="https://www.mdpi.com/2624-599X/3/1/3/htm" title="https://www.mdpi.com/2624-599X/3/1/3/htm">see work from my colleague Chunyang Xu</a>). This should also be considered with how useful lab-based evaluation can be for research. There’s so much we can do experimentally in a lab that is impossible in situ. This includes physiological/neurological measurements, testing the addition of new sounds in a complex scene, investigating the influence of the direction a sound comes from, and mixing and matching visual and auditory stimuli (what happens when the sound scene so clearly doesn’t match the visual environment?). But of course, this is balanced by things which are only possible in situ and not in a lab – sampling the population which actually uses a space, incorporating the participants’ purpose for being there and their relationship to the space, etc. So it depends a lot on what your research question is – for true ecological validity, for engagement with the space, for monumental and historical spaces, in situ is probably still best. For things which can’t be done in situ or a to have more controlled experimental setup – in the lab.</p>
<p>What I think is clear (to me at least) is that over-the-internet evaluations are almost certainly not valid for perceptual assessments. It’s very difficult to know exactly what the respondent was exposed to. The lack of control in playback loudness and quality, the static audio rather than headtracked, and usually the lack of a head mounted display all limit what we can do with it. We’ve had some success using online surveys for sound source identification, but we actually ended up throwing out a whole load of perceptual attribute data we collected this way during COVID because we felt it wasn’t valid.</p>
<p><em>Your example of retirees having different attitudes to the rest of the population is a good example.</em></p>
<p>Interestingly, multi-level modelling was <a href="https://www.sciencedirect.com/science/article/pii/S0272494421001134" title="https://www.sciencedirect.com/science/article/pii/S0272494421001134">the analysis we used to find that particular result</a>!</p>
<p><em>This brings into question the truth of the quality of a soundscape given these differing attitudes and opinions; if you are engineering a soundscape for quality, how do you maximise soundscape quality given this difference? How representative is the survey population per group (retirees/students/workers etc), and does this influence the generalisability of your model?</em></p>
<p>While there are significant effects of these sorts of demographic questions, like that of retirees, they are still relatively small, accounting for about 1.4% of the variance for Pleasantness ratings and 3.9% for Eventfulness ratings. That shouldn’t be ignored, but the sort of predictive modelling we’re talking about isn’t yet at the point where we can approach that level of accuracy. I suspect that the inherent randomness and degree of variance for any individual’s response is such that we may never get there, for these sorts of models. Particularly for in situ surveys, we’re dealing with quite noisy data where the noise is inherent due to every individual’s randomness in their response.</p>
<p>But this gets to my next point, which hopefully I’ll be publishing on soon – we need to think of soundscape assessments in statistical and probabilistic terms. For real-world assessments, I don’t think it’s at all useful and is in fact probably irresponsible, to talk about predicting the response of any individual, or a single predicted response to a single input. Our modelling should ideally incorporate the inherent randomness of people’s responses, such that any single input (i.e.&nbsp;a recording or sound sample) gives a range of predicted responses, since that is how it works in reality. Even with perfect information – i.e.&nbsp;we know exactly the sound you’re exposed to and your noise sensitivity and we know your demographic information and what you had for breakfast this morning – there would still be some random range of responses you could give. This range would likely have a normal shape and have tendencies and we could predict how that distribution would move, but it’s pointless to try to say there is some ground truth of what you will perceive for a given input – human perception is a chaotic system. When we scale this up to locations and populations of people, we should be saying things like “70% of people would likely find this space vibrant”.</p>
<p>Now, how we maximise soundscape quality is a different question to predicting assessments. To me, this is a designer’s task in a lot of cases. Which is the ideal soundscape, a vibrant one, or a calm one? It depends on the context, and there’s no single number or descriptor that says ‘this is the best soundscape’. The designers (including acoustic and soundscape experts) need to decide on their desired type of soundscape, in consultation with the users and other stakeholders. Then we can help predict what changes will lead to this desired soundscape outcome.</p>
<p><em>I wanted to ask how deep you went into your nonlinear modelling strategies, and did they highlight anything that is not represented by your multilevel linear model?</em></p>
<p>The non-linear work was done by a Masters student I supervised and was mostly exploratory. We tried several non-linear methods and saw some differences among them, but none of them achieved the performance of the MLM I presented. At the moment I’m not completely sure why this is, but I suspect it’s down to the care that was put into the structure of the MLM. It’s the culmination of three years of PhD work, compared to less than a year afforded to the Masters work. The nonlinear work was meant as a sanity check to make sure there wasn’t some obvious advantage to non-linear models that would blow the linear one out of the water. There are some other reasons behind this approach, but mostly I came into the work from an engineering consulting perspective and one of the requirements I placed on my model was to be transparent and interpretable so that engineers could dig through it and understand what was causing e.g.&nbsp;a soundscape to be chaotic. This immediately excluded things like neural networks and to some extent SVMs and random forests from my personal research. The hope was for some other researchers to explore a non-linear approach (specifically neural networks) from the start but unfortunately this fell through.</p>
<p>I’m hoping to 1. Incorporate nonlinear transformations of input features into future linear models, and 2. Further investigate non-linear models.</p>
<p><em>However, I wonder if they mask the insufficiency of linear regressions in modelling piecewise and nonlinear features that appear in soundscape evaluation.</em></p>
<p>I’m not convinced this is insurmountable in a linear regression. For me the next step to identifying this is to look at the wide array of features we could include and calculated non-linear correlations (personally, I’m looking at mutual information and conditional mutual information). This can help us identify whether there is any relationship, linear, piecewise, or otherwise, between the input feature and the output evaluation. Once that has been narrowed down and identified, we can do a non linear transformation before feeding into the linear model or just define separate regimes for the linear model (e.g.&nbsp;one set of coefficients for below 65 dBA, and one set for above). I think this is very likely, since several pieces of research have seemed to identify some threshold (somewhere around 65-70 dBA) above which the sound level is in fact dominant in a classical environmental acoustics/annoyance manner. I think we’ll need to define different approaches for the different regimes.</p>
<p><em>Did you have to perform any further preprocessing of your data before feeding your nonlinear models?</em></p>
<p>For this specific work, I’d say no. We have a data cleaning process, all features are standardized before feature selection, and we used either a train/test split or cross validation for feature selection and model building, but not any true pre-processing. As above, this will probably change as we try to make sure we haven’t missed any nonlinearities.</p>
<p><em>Have you explored methods for feature generation that are not manually engineered i.e.&nbsp;not traditional psychoacoustic indices?</em></p>
<p>Yes and no. For yes, I’ve been exploring a new metric for characterising temporal behaviour (based on the <a href="https://asa.scitation.org/doi/full/10.1121/1.4927033?casa_token=160IcPBZfF8AAAAA%3A3ChYe_kJm6PAMsSxHbzj4S6RtHua6emRAVyAkGXdiwB1pUyg5gI4Lhux9XxbiCNwpSukGkupwmrF" title="https://asa.scitation.org/doi/full/10.1121/1.4927033?casa_token=160IcPBZfF8AAAAA%3A3ChYe_kJm6PAMsSxHbzj4S6RtHua6emRAVyAkGXdiwB1pUyg5gI4Lhux9XxbiCNwpSukGkupwmrF">1/f behaviour explored here</a>), but it is derived from the time series of the psychoacoustic indices themselves. For no, again, this was a limitation I imposed from the start to my particular work. I wanted to make use of the vast psychoacoustic research which has not made its way into environmental acoustics before, and I wanted to make sure the metrics used were understandable by the engineers who would likely use the models. If we instead used for example MFCCs, it’s very difficult to interpret what is actually influencing the outcome of the model. Great, you have a super accurate ANN based on MFCCs, now what? How do you identify what is causing the problem in your soundscape? How do you design a mitigation strategy if you can’t even identify what the problem is? How do you identify what is working well to enhance or apply elsewhere if you’re working with a black box?</p>
<p>That’s a bit facetious, but I do think there is serious value in a transparent and interpretable model with understandable inputs. That said, I’m not entirely opposed to techniques like that and am using them for some other work on sound source recognition.</p>
<p><em>Do you plan to test the generalisability of your model to soundscapes not in your dataset?</em></p>
<p>The specific model I presented, no. It is not generalisable to other locations due to the way the MLM was set up. The next step is to replace that categorical variable which identifies the locationID with some combination of characteristics which <em>describe</em> the location – architectural typology, visual openness, greenness, etc. With this, it could then be applied to other locations. So <em>a model</em> trained on this dataset will eventually be generalisable and will be tested on other locations, just not the one we currently have.</p>
<p><em>I wanted to ask if you had an intuition for the validity of the different psychoacoustic metrics that you ended up with in your model for eventfulness?</em></p>
<p>It’s like you’ve read my mind! Here’s a section I wrote a few months ago on the use of psychoacoustic metrics in soundscape for my thesis:</p>
<p>“From the experience of the previous studies which are highly focussed on the existing environmental acoustic and psychoacoustic metrics, one (of many) potential limitations has been revealed. For the most part, these metrics were designed to characterise various negative qualities of the sound. Certainly, they therefore have a valid negative correlation with positive assessments of the sound, but the simple fact is that they were conceived of and implemented in an attempt to quantify some sonic characteristic that was assumed by the researchers to contribute to a negative perception. Hence why in Zwicker’s empirical formula for Psychoacoustic Annoyance, all of the constituent parts have positive coefficients.</p>
<p>While this would not theoretically hinder a formula for describing positive aspects of the sound, it creates a sort of conceptual barrier. If all of these metrics are designed to capture negative aspects of the sound, then it is insufficient to use them to create a formula to describe a positive sound, since that formula would only represent the ‘absence of negativity’, not necessarily positivity.”</p>
<p><em>I understand that eventfulness might be an attribute that is very local to the specific soundscape experience being surveyed at the time; if this is the case, what is the intuition for fluctuation strength being a factor in eventfulness?</em></p>
<p>On the contrary, the feature reduction of our model showed that the context (at least due to the location) is not important for Eventfulness, while it is highly important for Pleasantness. Therefore eventfulness is less local to the specific soundscape experience and is much more dependent on the acoustic features, regardless of the rest of the context.</p>
<p><em>I see LAeq is still the strongest influence in your model of eventfulness, given this, I am interested to know why loudness isn’t in this list of predictors.</em></p>
<p>This is primarily down to the feature selection process we used, which prioritised model performance. Given the slate of other features which were initially considered, it’s conceivable that LAeq was providing information which Loudness didn’t, when taken in context with the other psychoacoustical metrics and therefore Loudness was removed. We wouldn’t expect both features to be included in the final model anyway and, in fact, we would have manually removed one if necessary to prevent collinearity. Since LAeq and Loudness encode similar (but not identical) information, they are highly correlated but will behave somewhat differently within the model and the feature selection. That said, this process is somewhat brittle, meaning with a slightly different sample, Loudness may have won out in place of LAeq. The overall structure and behaviour of the model is robust, but given two highly correlated metrics, it’s a bit of a toss up which one was ultimately selected. I would discourage anyone from making declarative statements like ‘LAeq is the important one, ditch Loudness’ on the basis of this model.</p>
<p><em>On the same note, do you think annotations of the number of discrete acoustic events that occured during a recording might be an effective indicator of eventfulness (assuming you could compute the number of discrete events, either computationally or manually); I guess I am asking if you think eventfulness is purely based on the number of events that occured or if eventfulness is motivated by many other factors.</em></p>
<p>I absolutely think that’s a great point. Something like the number of LAmax events above a certain value (which I think is used in sleep disturbance?) would probably be a good candidate metric to include. I’ll put it on the list! Alternatively, if a system for counting the discrete sound events could be made, maybe using environmental sound recognition, that would also be great.</p>
<p>That said, I think it would again be one of many features in the final model. I don’t think there’s any single metric which can describe the complex perceptual attributes we’re aiming for. Again, I’ll just quote a section I wrote a bit ago:</p>
<p>“Contrary to the hopes expressed by Aletta et al.&nbsp;(2014), that”ideally there should be one acous- tic indicator per dimension”, the evidence from subsequent investigations and modelling at- tempts (Lionello et al., 2020) indicates this to be unlikely. There appears to be no reason we should think the perceptual dimensions should be reduced to a single acoustic indicator. The dimensions of soundscape represent complex perceptual concepts which we should expect to be composed of a multi-factor interaction between the input features. This necessary complexity highlights the need for a more sophisticated machine learning approach in order to handle and interpret the interactions between the many input features which contribute to the formation of a soundscape perception. (Aletta et al., 2016)”</p>
<p>Personally, I think the next big step will be to integrate a sound source recognition model along into a psychoacoustic and contextual model of soundscape to really tease out how the perceptual response is dependent on the acoustic characteristics, combined with the meaning assigned to the sound source, and mediated by the context and personal factors.</p>
<p><em>How co-compatible do you think pleasantness and vibrancy are with valence and arousal?</em></p>
<p>For my purposes, pleasantness and <em>eventfulness</em> are just the specific labels for the concept of soundscape valence and arousal, which is how Axelsson presented it originally. So technically they are exactly compatible, since pleasantness is just soundscape valence and eventfulness is just soundscape arousal. I think Axelsson’s work, Simone Torresin’s work on the indoor soundscape circumplex, and our own upcoming work on translating the perceptual attributes, all agree enough to demonstrate that the framework of the soundscape circumplex is solid enough to build on, although there are still some particularities to work out, particularly with the precise labels used for the various attributes.</p>
<p><em>Have you performed any dimensionality reduction in the process of evaluating the data, to see which dimensions in the data are co-linear and orthogonal?</em></p>
<p>Not formally yet (at least not beyond some simple exploratory correlation analyses), but that’ll be coming…</p>
<p><em>Do you plan to have participants evaluate your lockdown recordings in-the-lab, to get an idea of the validity of either your model or how participants might rate your soundscapes in a lab setting?</em></p>
<p>I probably won’t end up doing that work, but yeah I think someone from our lab is planning on it. We were definitely planning on doing a round of validation work comparing in situ vs lab responses with our recordings, it’s just a matter of lab time, workload, and competing with other good ideas.</p>
<p><em>Finally, I wanted to ask if you were planning to publish any of the audio and higher resolution 360 still images from your database?</em></p>
<p><em>I am interested in using the recordings in my own research (with the necessary citations, correspondence and invitation to collaborate of course).</em></p>
<p>Great to hear! Yes, we are working on this! We released the data used for the lockdown modelling study for open access on <a href="https://zenodo.org/record/5654747" title="https://zenodo.org/record/5654747">Zenodo as the ‘International Soundscape Database’</a>. But this just includes the survey results and the output of the psychoacoustic analysis at this early stage. I’m now working on organising the binaural recordings to make them openly available as part of a future version of the database.</p>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>soundscape</category>
  <category>machinelearning</category>
  <category>ssid</category>
  <guid>https://drandrewmitchell.com/posts/2022-04-25_q-on-ss-modelling/</guid>
  <pubDate>Mon, 25 Apr 2022 17:32:56 GMT</pubDate>
</item>
<item>
  <title>Contributing to the Pandemic Sensory Archive</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/pandemic-sensory-archive/</link>
  <description><![CDATA[ 





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="http://www.archiveofintimacy.com/"><img src="https://drandrewmitchell.com/posts/pandemic-sensory-archive/sensory-archive.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></a></p>
</figure>
</div>
<p>In 2021, I was interviewed by Dr William Tullett of Anglia Ruskin University in Cambridge. Dr Tullett created the <a href="http://www.archiveofintimacy.com/">Pandemic Sensory Archive</a> “to explore bodies and senses through a digital platform, in light of experiences of the COVID-19 pandemic”.</p>
<p>Dr Tullett reached out in relation to my then-recent work investigating how urban soundscapes changed as a result of the COVID-19 lockdowns. I spoke with him about both how the physical sound environment changed and how people’s perception was impacted.</p>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>podcast</category>
  <guid>https://drandrewmitchell.com/posts/pandemic-sensory-archive/</guid>
  <pubDate>Wed, 09 Jun 2021 00:00:00 GMT</pubDate>
  <media:content url="https://drandrewmitchell.com/posts/pandemic-sensory-archive/sensory-archive.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>First paper published! SSID Protocol</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/2020-06-19-protocol-paper/</link>
  <description><![CDATA[ 





<section id="first-paper-published-ssid-protocol" class="level1">
<h1>First paper published! SSID Protocol</h1>
<p><img src="https://drandrewmitchell.com/posts/2020-06-19-protocol-paper/protocol-header.png" class="img-fluid"></p>
<p>Find the full paper at the MDPI Applied Sciences Page - <a href="https://www.mdpi.com/2076-3417/10/7/2397">DOI: 10.3390/app10072397</a></p>
<hr>
<p>For the past year, a huge portion of my PhD work has been focussed on data collection. Our goal in the SSID data collection is to gather a massive database of soundscape questionnaire surveys combined with objective acoustical and environmental data. Given the complexity of all of the different data sources, the protocol for correctly carrying out and organising the surveys is pretty involved.</p>
<p>To formalise it and make it available to all the other soundscape researchers out there, we have published our method as a standalone protocol paper in Applied Sciences.</p>
<p>In general, the protocol involves going out to an urban public space, setting up environmental and acoustic monitoring equipment, then stopping people as they pass through the space to get them to fill out a survey about how they perceive the sound environment. This data all then gets gathered up, collated and databased, and analysed as part of our ongoing soundscape research.</p>
<p>The whole timeline of this protocol is shown in this figure:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-19-protocol-paper/Survey-Diagram_V2.png" class="img-fluid figure-img"></p>
<figcaption>Figure 1: Timeline of the on site soundscape protocol. RegentsParkJapan (RPJ) is used as an example. Abbreviations as defined in Table 3-QUE: Questionnaires; VID: 360 video; PIC: Site pictures; BIN: Binaural Recording; AMB: Ambisonic recording; SLM: Sound Level Meter (acoustical factors); ENV: Environmental factors</figcaption>
</figure>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <guid>https://drandrewmitchell.com/posts/2020-06-19-protocol-paper/</guid>
  <pubDate>Fri, 19 Jun 2020 00:00:00 GMT</pubDate>
  <media:content url="https://drandrewmitchell.com/posts/2020-06-19-protocol-paper/protocol-header.png" medium="image" type="image/png" height="54" width="144"/>
</item>
<item>
  <title>PhD Upgrade done and passed, thankfully!</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/phd-upgrade-done/</link>
  <description><![CDATA[ 





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/phd-upgrade-done/image.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%"></p>
</figure>
</div>
<p>In the UK, halfway through the PhD we undergo a process known as the ‘upgrade’. The purpose is to take stock of our progress made so far and to determine whether we are likely to make it to the end of the PhD successfully. To do this, we present a seminar and prepare a report of our current progress before having a session with an internal panel where they ask further questions about your work and the existing state of the field. If the panel confirms that we have made adequate progress and have a good plan to finish, we can be upgraded to a PhD candidate. I always find it really helpful to look at previous examples of stuff like this, and wasn’t able to find many examples or much guidance on what it should look like. To help others, I’ve decided to host my report here, feel free to use it as an example, but remember it meets the requirements of my specific department at this time, and yours may differ.</p>
<p>On a side note, because this year is wild, I received the email letting me know I passed my PhD upgrade while kneeling in the Black Lives Matter demonstration in Parliament Square. It can be difficult to process the emotions of outrage and frustration simultaneously with relief and hope. I don’t have anything more profound to say on that, except that shit’s crazy but life trudges on. I’ll be back out at the protests this weekend.</p>
<p>It also means I had to finally settle on a decent thesis title, I landed on <strong>Machine Learning and Regression Modelling of Dynamic Urban Soundscapes: A multilevel approach</strong>.</p>
<a class="btn btn-outline-dark btn-sm" ,="" href="../../posts/phd-upgrade-done/AMitchell Upgrade Report_final.pdf">Download Report</a>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>phd-life</category>
  <guid>https://drandrewmitchell.com/posts/phd-upgrade-done/</guid>
  <pubDate>Fri, 19 Jun 2020 00:00:00 GMT</pubDate>
  <media:content url="https://drandrewmitchell.com/posts/phd-upgrade-done/image.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Clustering analysis in R, with factoextra and NbClust</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/</link>
  <description><![CDATA[ 





<section id="clustering-analysis-libraries" class="level2">
<h2 class="anchored" data-anchor-id="clustering-analysis-libraries">Clustering Analysis Libraries</h2>
<p><code>factoextra</code>:</p>
<ul>
<li><a href="https://www.rdocumentation.org/packages/factoextra/versions/1.0.3">https://www.rdocumentation.org/packages/factoextra/versions/1.0.3</a></li>
</ul>
<p><code>NbClust</code>:</p>
<ul>
<li><a href="https://www.rdocumentation.org/packages/NbClust/versions/3.0">https://www.rdocumentation.org/packages/NbClust/versions/3.0</a></li>
<li><a href="https://www.jstatsoft.org/article/view/v061i06/v61i06.pdf">https://www.jstatsoft.org/article/view/v061i06/v61i06.pdf</a></li>
</ul>
<p>There are many libraries and functions in R for performing clustering analysis, so why look at these 2? Well, they solve two important challenges with clustering: visualisation and determining the optimal number of clusters.</p>
<p>In general, cluster analysis is an unsupervised machine learning task, meaning we don’t predefine a target output for the learning. For clustering, this mainly means that we don’t know what the categories will be before we start the analysis. We also don’t know how many clusters are present.</p>
<p>Many indices have been created to help with determining the optimal number of clusters, however these each have their own advantages and disadvantages and often give conflicting results. We’ll demonstrate this by looking at the results from three popular graphical methods: elbow plot, silhouette, and gap statistic.</p>
</section>
<section id="dataset" class="level2">
<h2 class="anchored" data-anchor-id="dataset">Dataset</h2>
<p>We’ll be looking at data from the <a href="https://www.mdpi.com/2076-3417/10/7/2397">Soundscape Indices (SSID) Database</a>. This dataset contains data in-situ perceptual assessments of urban soundscapes, paired with acoustic and environmental data. For this set, we’ll be looking at the perceptual data only.</p>
<p>To collect the data, random members of the public were approached while in urban public spaces and asked to take a survey about how they perceive the sound environment. A section of the questions ask specifically about the perceived dominance of sound sources in the space. Sound sources are categorized as Traffic noise, Other noise, Human sounds, Natural sounds, and are rated from 1 [not at all] to 5 [dominates completely].</p>
<p>The data was collected across 27 locations in the UK, Italy, Spain, the Netherlands, and China. The goal here is to investigate whether these locations can be categorized based on their composition of sound sources.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Data processing and piping</span></span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Clustering libraries</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(factoextra) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Clustering and visualisation</span></span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(NbClust)    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Optimal Number of Clusters</span></span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(RCurl)      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># For downloading data from Zenodo</span></span>
<span id="cb1-8"></span>
<span id="cb1-9">temp.file <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tempfile</span>(), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".xlsx"</span>)</span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">download.file</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://zenodo.org/record/5705908/files/SSID%20Lockdown%20Database%20VL0.2.2.xlsx"</span>, temp.file, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mode=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wb"</span>)</span>
<span id="cb1-11">ssid.data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(temp.file)</span>
<span id="cb1-12"></span>
<span id="cb1-13">vars <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Traffic"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Natural"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Human"</span>)</span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># vars &lt;- c("pleasant", "chaotic", "vibrant", "uneventful", "calm", "annoying", "eventful", "monotonous")</span></span>
<span id="cb1-15"></span>
<span id="cb1-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Cutdown the dataset</span></span>
<span id="cb1-17">ssid.data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ssid.data[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GroupID"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SessionID"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LocationID"</span>, vars)]</span>
<span id="cb1-18"></span>
<span id="cb1-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ssid.data &lt;- subset(ssid.data, Lockdown != 1)</span></span>
<span id="cb1-20"></span>
<span id="cb1-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set GroupID, SessionID, Location as factor type</span></span>
<span id="cb1-22">ssid.data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ssid.data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate_at</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">vars</span>(GroupID, SessionID, LocationID),</span>
<span id="cb1-23">                                     <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">funs</span>(as.factor))</span>
<span id="cb1-24">ssid.data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ssid.data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate_at</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">vars</span>(vars),</span>
<span id="cb1-25">                                     <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">funs</span>(as.numeric))</span>
<span id="cb1-26"></span>
<span id="cb1-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the mean response for each GroupID</span></span>
<span id="cb1-28">ssid.data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ssid.data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-29">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(GroupID) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-30">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(</span>
<span id="cb1-31">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Traffic =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(Traffic, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-32">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Other =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(Other, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-33">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Natural =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(Natural, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-34">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Human =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(Human, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-35">              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pleasant = mean(pleasant, na.rm = TRUE),</span></span>
<span id="cb1-36">              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># chaotic = mean(chaotic, na.rm = TRUE),</span></span>
<span id="cb1-37">              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># vibrant = mean(vibrant, na.rm = TRUE),</span></span>
<span id="cb1-38">              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># uneventful = mean(uneventful, na.rm = TRUE),</span></span>
<span id="cb1-39">              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># calm = mean(calm, na.rm = TRUE),</span></span>
<span id="cb1-40">              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># annoying = mean(annoying, na.rm = TRUE),</span></span>
<span id="cb1-41">              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># eventful = mean(eventful, na.rm = TRUE),</span></span>
<span id="cb1-42">              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># monotonous = mean(monotonous, na.rm = TRUE),</span></span>
<span id="cb1-43">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LocationID =</span> LocationID[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span>
<span id="cb1-44"></span>
<span id="cb1-45"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># analysis.data$LocationID &lt;- unique(ssid.data[c('GroupID', 'LocationID')])['LocationID']</span></span>
<span id="cb1-46">ssid.data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">na.omit</span>(ssid.data)</span>
<span id="cb1-47"></span>
<span id="cb1-48">knitr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(ssid.data))</span></code></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">GroupID</th>
<th style="text-align: right;">Traffic</th>
<th style="text-align: right;">Other</th>
<th style="text-align: right;">Natural</th>
<th style="text-align: right;">Human</th>
<th style="text-align: left;">LocationID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">AM01</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">4.000000</td>
<td style="text-align: left;">SanMarco</td>
</tr>
<tr class="even">
<td style="text-align: left;">AM02</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">4.000000</td>
<td style="text-align: left;">SanMarco</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AM03</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">4.666667</td>
<td style="text-align: left;">SanMarco</td>
</tr>
<tr class="even">
<td style="text-align: left;">AM05</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1.000000</td>
<td style="text-align: left;">SanMarco</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AM06</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">3.500000</td>
<td style="text-align: left;">SanMarco</td>
</tr>
<tr class="even">
<td style="text-align: left;">AM07</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">4.000000</td>
<td style="text-align: left;">SanMarco</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Our locations are:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">levels</span>(ssid.data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LocationID))</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "CamdenTown"         "EustonTap"          "MarchmontGarden"   
 [4] "MonumentoGaribaldi" "PancrasLock"        "RegentsParkFields" 
 [7] "RegentsParkJapan"   "RussellSq"          "SanMarco"          
[10] "StPaulsCross"       "StPaulsRow"         "TateModern"        
[13] "TorringtonSq"      </code></pre>
</div>
</div>
</section>
<section id="calculate-the-mean-value-for-each-location" class="level2">
<h2 class="anchored" data-anchor-id="calculate-the-mean-value-for-each-location">Calculate the mean value for each Location</h2>
<p><strong>Note:</strong> If the data use different scales, they should always be standardised before clustering. In this case, all of the data are on the same scale, so we don’t need to worry.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">means <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aggregate</span>(ssid.data[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(vars)], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(ssid.data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LocationID), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">FUN=</span>mean, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb4-2">means <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(means[, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">row.names =</span> means[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span>
<span id="cb4-3"></span>
<span id="cb4-4">knitr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(means)</span></code></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Traffic</th>
<th style="text-align: right;">Other</th>
<th style="text-align: right;">Natural</th>
<th style="text-align: right;">Human</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CamdenTown</td>
<td style="text-align: right;">3.787745</td>
<td style="text-align: right;">2.652941</td>
<td style="text-align: right;">1.316667</td>
<td style="text-align: right;">3.219608</td>
</tr>
<tr class="even">
<td style="text-align: left;">EustonTap</td>
<td style="text-align: right;">3.717857</td>
<td style="text-align: right;">2.858929</td>
<td style="text-align: right;">1.642262</td>
<td style="text-align: right;">2.515476</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MarchmontGarden</td>
<td style="text-align: right;">2.663542</td>
<td style="text-align: right;">2.412500</td>
<td style="text-align: right;">2.564583</td>
<td style="text-align: right;">2.695833</td>
</tr>
<tr class="even">
<td style="text-align: left;">MonumentoGaribaldi</td>
<td style="text-align: right;">1.903509</td>
<td style="text-align: right;">1.885965</td>
<td style="text-align: right;">2.982456</td>
<td style="text-align: right;">3.254386</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PancrasLock</td>
<td style="text-align: right;">2.457500</td>
<td style="text-align: right;">3.144167</td>
<td style="text-align: right;">2.391667</td>
<td style="text-align: right;">2.453333</td>
</tr>
<tr class="even">
<td style="text-align: left;">RegentsParkFields</td>
<td style="text-align: right;">2.422886</td>
<td style="text-align: right;">1.911692</td>
<td style="text-align: right;">3.148010</td>
<td style="text-align: right;">2.866915</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RegentsParkJapan</td>
<td style="text-align: right;">1.867179</td>
<td style="text-align: right;">1.528718</td>
<td style="text-align: right;">3.974103</td>
<td style="text-align: right;">2.450000</td>
</tr>
<tr class="even">
<td style="text-align: left;">RussellSq</td>
<td style="text-align: right;">2.668120</td>
<td style="text-align: right;">2.027132</td>
<td style="text-align: right;">3.334302</td>
<td style="text-align: right;">2.987403</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SanMarco</td>
<td style="text-align: right;">1.431852</td>
<td style="text-align: right;">1.895926</td>
<td style="text-align: right;">2.230370</td>
<td style="text-align: right;">4.041852</td>
</tr>
<tr class="even">
<td style="text-align: left;">StPaulsCross</td>
<td style="text-align: right;">2.503704</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">2.266667</td>
<td style="text-align: right;">3.311111</td>
</tr>
<tr class="odd">
<td style="text-align: left;">StPaulsRow</td>
<td style="text-align: right;">2.527132</td>
<td style="text-align: right;">2.294574</td>
<td style="text-align: right;">1.744186</td>
<td style="text-align: right;">3.368217</td>
</tr>
<tr class="even">
<td style="text-align: left;">TateModern</td>
<td style="text-align: right;">2.541667</td>
<td style="text-align: right;">2.150833</td>
<td style="text-align: right;">2.598333</td>
<td style="text-align: right;">3.660833</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TorringtonSq</td>
<td style="text-align: right;">3.230676</td>
<td style="text-align: right;">2.848068</td>
<td style="text-align: right;">1.957005</td>
<td style="text-align: right;">3.269565</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="clustering-analysis" class="level2">
<h2 class="anchored" data-anchor-id="clustering-analysis">Clustering Analysis</h2>
<section id="some-standard-single-indices" class="level3">
<h3 class="anchored" data-anchor-id="some-standard-single-indices">Some standard, single indices</h3>
<p>Elbow plot (within-sum-of-squares), Silhouette, Gap statistic</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span>)</span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_nbclust</span>(means, hcut, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">method=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wss"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ggtheme =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>())</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_nbclust</span>(means, hcut, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">method=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"silhouette"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ggtheme =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>())</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_nbclust</span>(means, hcut, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">method=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gap_stat"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ggtheme=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>())</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>As we can see, it can be less than obvious how to interpret some of these - where exactly is the ‘elbow’ in the elbow plot? Silhouette pretty clearly says k = 2, but the Gap stat gives k = 1, which isn’t very useful. How do we know which is right?</p>
</section>
<section id="indices-using-nbclust" class="level3">
<h3 class="anchored" data-anchor-id="indices-using-nbclust">30 indices using NbClust</h3>
<p>NbClust</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">indices <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"kl"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ch"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ccc"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cindex"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"db"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"silhouette"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"duda"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pseudot2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ratkowsky"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ptbiserial"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gap"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mcclain"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gamma"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gplus"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tau"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sdindex"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sdbw"</span>)</span>
<span id="cb8-2">res <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">NbClust</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> means, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">distance=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'euclidean'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min.nc =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max.nc=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">method=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ward.D2"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">index =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"alllong"</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in pf(beale, pp, df2): NaNs produced</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>*** : The Hubert index is a graphical method of determining the number of clusters.
                In the plot of Hubert index, we seek a significant knee that corresponds to a 
                significant increase of the value of the measure i.e the significant peak in Hubert
                index second differences plot. 
 </code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>*** : The D index is a graphical method of determining the number of clusters. 
                In the plot of D index, we seek a significant knee (the significant peak in Dindex
                second differences plot) that corresponds to a significant increase of the value of
                the measure. 
 
******************************************************************* 
* Among all indices:                                                
* 9 proposed 2 as the best number of clusters 
* 4 proposed 3 as the best number of clusters 
* 2 proposed 4 as the best number of clusters 
* 1 proposed 5 as the best number of clusters 
* 4 proposed 6 as the best number of clusters 
* 1 proposed 7 as the best number of clusters 
* 2 proposed 8 as the best number of clusters 
* 5 proposed 9 as the best number of clusters 

                   ***** Conclusion *****                            
 
* According to the majority rule, the best number of clusters is  2 
 
 
******************************************************************* </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">knitr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(res)</span></code></pre></div>
</details>
<div class="cell-output-display">
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 1%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">KL</th>
<th style="text-align: right;">CH</th>
<th style="text-align: right;">Hartigan</th>
<th style="text-align: right;">CCC</th>
<th style="text-align: right;">Scott</th>
<th style="text-align: right;">Marriot</th>
<th style="text-align: right;">TrCovW</th>
<th style="text-align: right;">TraceW</th>
<th style="text-align: right;">Friedman</th>
<th style="text-align: right;">Rubin</th>
<th style="text-align: right;">Cindex</th>
<th style="text-align: right;">DB</th>
<th style="text-align: right;">Silhouette</th>
<th style="text-align: right;">Duda</th>
<th style="text-align: right;">Pseudot2</th>
<th style="text-align: right;">Beale</th>
<th style="text-align: right;">Ratkowsky</th>
<th style="text-align: right;">Ball</th>
<th style="text-align: right;">Ptbiserial</th>
<th style="text-align: right;">Gap</th>
<th style="text-align: right;">Frey</th>
<th style="text-align: right;">McClain</th>
<th style="text-align: right;">Gamma</th>
<th style="text-align: right;">Gplus</th>
<th style="text-align: right;">Tau</th>
<th style="text-align: right;">Dunn</th>
<th style="text-align: right;">Hubert</th>
<th style="text-align: right;">SDindex</th>
<th style="text-align: right;">Dindex</th>
<th style="text-align: right;">SDbw</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2</td>
<td style="text-align: right;">1.0970</td>
<td style="text-align: right;">8.1449</td>
<td style="text-align: right;">6.0597</td>
<td style="text-align: right;">7.5851</td>
<td style="text-align: right;">102.6537</td>
<td style="text-align: right;">30.2615</td>
<td style="text-align: right;">13.4952</td>
<td style="text-align: right;">10.1742</td>
<td style="text-align: right;">351.3546</td>
<td style="text-align: right;">36.9377</td>
<td style="text-align: right;">0.4269</td>
<td style="text-align: right;">0.8174</td>
<td style="text-align: right;">0.3529</td>
<td style="text-align: right;">0.6156</td>
<td style="text-align: right;">4.9946</td>
<td style="text-align: right;">1.3398</td>
<td style="text-align: right;">0.3840</td>
<td style="text-align: right;">5.0871</td>
<td style="text-align: right;">0.5020</td>
<td style="text-align: right;">-0.9326</td>
<td style="text-align: right;">1.0370</td>
<td style="text-align: right;">0.4096</td>
<td style="text-align: right;">0.5903</td>
<td style="text-align: right;">3.7821</td>
<td style="text-align: right;">10.8974</td>
<td style="text-align: right;">0.3539</td>
<td style="text-align: right;">0.0753</td>
<td style="text-align: right;">2.5622</td>
<td style="text-align: right;">0.8042</td>
<td style="text-align: right;">0.4459</td>
</tr>
<tr class="even">
<td style="text-align: left;">3</td>
<td style="text-align: right;">1.1005</td>
<td style="text-align: right;">8.4961</td>
<td style="text-align: right;">5.2330</td>
<td style="text-align: right;">6.3990</td>
<td style="text-align: right;">119.6026</td>
<td style="text-align: right;">18.4865</td>
<td style="text-align: right;">5.5195</td>
<td style="text-align: right;">6.5603</td>
<td style="text-align: right;">404.1006</td>
<td style="text-align: right;">57.2860</td>
<td style="text-align: right;">0.3951</td>
<td style="text-align: right;">1.0948</td>
<td style="text-align: right;">0.2818</td>
<td style="text-align: right;">0.4299</td>
<td style="text-align: right;">5.3038</td>
<td style="text-align: right;">2.5609</td>
<td style="text-align: right;">0.4103</td>
<td style="text-align: right;">2.1868</td>
<td style="text-align: right;">0.4710</td>
<td style="text-align: right;">-1.6230</td>
<td style="text-align: right;">0.2765</td>
<td style="text-align: right;">1.3913</td>
<td style="text-align: right;">0.6265</td>
<td style="text-align: right;">3.1026</td>
<td style="text-align: right;">10.4103</td>
<td style="text-align: right;">0.3626</td>
<td style="text-align: right;">0.0800</td>
<td style="text-align: right;">2.8643</td>
<td style="text-align: right;">0.6523</td>
<td style="text-align: right;">0.3387</td>
</tr>
<tr class="odd">
<td style="text-align: left;">4</td>
<td style="text-align: right;">1.6303</td>
<td style="text-align: right;">9.3352</td>
<td style="text-align: right;">3.5123</td>
<td style="text-align: right;">5.9285</td>
<td style="text-align: right;">136.6838</td>
<td style="text-align: right;">8.8328</td>
<td style="text-align: right;">2.0114</td>
<td style="text-align: right;">4.3066</td>
<td style="text-align: right;">514.5025</td>
<td style="text-align: right;">87.2635</td>
<td style="text-align: right;">0.5492</td>
<td style="text-align: right;">0.8335</td>
<td style="text-align: right;">0.3286</td>
<td style="text-align: right;">2.5977</td>
<td style="text-align: right;">-1.2301</td>
<td style="text-align: right;">-0.9899</td>
<td style="text-align: right;">0.4303</td>
<td style="text-align: right;">1.0767</td>
<td style="text-align: right;">0.4840</td>
<td style="text-align: right;">-1.8404</td>
<td style="text-align: right;">0.2171</td>
<td style="text-align: right;">2.0924</td>
<td style="text-align: right;">0.7560</td>
<td style="text-align: right;">1.5513</td>
<td style="text-align: right;">9.6154</td>
<td style="text-align: right;">0.5689</td>
<td style="text-align: right;">0.0773</td>
<td style="text-align: right;">2.4025</td>
<td style="text-align: right;">0.5465</td>
<td style="text-align: right;">0.2559</td>
</tr>
<tr class="even">
<td style="text-align: left;">5</td>
<td style="text-align: right;">0.8819</td>
<td style="text-align: right;">9.4327</td>
<td style="text-align: right;">4.1056</td>
<td style="text-align: right;">5.4008</td>
<td style="text-align: right;">150.1412</td>
<td style="text-align: right;">4.9017</td>
<td style="text-align: right;">0.9988</td>
<td style="text-align: right;">3.0977</td>
<td style="text-align: right;">615.3276</td>
<td style="text-align: right;">121.3182</td>
<td style="text-align: right;">0.5171</td>
<td style="text-align: right;">0.6492</td>
<td style="text-align: right;">0.4032</td>
<td style="text-align: right;">2.6324</td>
<td style="text-align: right;">-1.2402</td>
<td style="text-align: right;">-0.9981</td>
<td style="text-align: right;">0.4026</td>
<td style="text-align: right;">0.6195</td>
<td style="text-align: right;">0.4854</td>
<td style="text-align: right;">-2.3510</td>
<td style="text-align: right;">0.1834</td>
<td style="text-align: right;">2.4726</td>
<td style="text-align: right;">0.8391</td>
<td style="text-align: right;">0.8718</td>
<td style="text-align: right;">9.0897</td>
<td style="text-align: right;">0.6139</td>
<td style="text-align: right;">0.0863</td>
<td style="text-align: right;">2.3482</td>
<td style="text-align: right;">0.4455</td>
<td style="text-align: right;">0.1689</td>
</tr>
<tr class="odd">
<td style="text-align: left;">6</td>
<td style="text-align: right;">2.4474</td>
<td style="text-align: right;">10.7100</td>
<td style="text-align: right;">1.9565</td>
<td style="text-align: right;">5.2900</td>
<td style="text-align: right;">170.5431</td>
<td style="text-align: right;">1.4694</td>
<td style="text-align: right;">0.3679</td>
<td style="text-align: right;">2.0471</td>
<td style="text-align: right;">969.8285</td>
<td style="text-align: right;">183.5792</td>
<td style="text-align: right;">0.5973</td>
<td style="text-align: right;">0.5852</td>
<td style="text-align: right;">0.4719</td>
<td style="text-align: right;">1.8668</td>
<td style="text-align: right;">-0.4643</td>
<td style="text-align: right;">-0.5605</td>
<td style="text-align: right;">0.3812</td>
<td style="text-align: right;">0.3412</td>
<td style="text-align: right;">0.4830</td>
<td style="text-align: right;">-2.4797</td>
<td style="text-align: right;">0.5241</td>
<td style="text-align: right;">2.9403</td>
<td style="text-align: right;">0.9529</td>
<td style="text-align: right;">0.2051</td>
<td style="text-align: right;">8.3077</td>
<td style="text-align: right;">0.8559</td>
<td style="text-align: right;">0.1062</td>
<td style="text-align: right;">2.4432</td>
<td style="text-align: right;">0.3528</td>
<td style="text-align: right;">0.1185</td>
</tr>
<tr class="even">
<td style="text-align: left;">7</td>
<td style="text-align: right;">0.9458</td>
<td style="text-align: right;">10.0676</td>
<td style="text-align: right;">1.9696</td>
<td style="text-align: right;">4.5460</td>
<td style="text-align: right;">183.1309</td>
<td style="text-align: right;">0.7595</td>
<td style="text-align: right;">0.2213</td>
<td style="text-align: right;">1.5999</td>
<td style="text-align: right;">1194.4928</td>
<td style="text-align: right;">234.8889</td>
<td style="text-align: right;">0.5305</td>
<td style="text-align: right;">0.5508</td>
<td style="text-align: right;">0.4589</td>
<td style="text-align: right;">3.4939</td>
<td style="text-align: right;">-0.7138</td>
<td style="text-align: right;">-0.8616</td>
<td style="text-align: right;">0.3578</td>
<td style="text-align: right;">0.2286</td>
<td style="text-align: right;">0.4476</td>
<td style="text-align: right;">-2.9193</td>
<td style="text-align: right;">0.8670</td>
<td style="text-align: right;">3.6092</td>
<td style="text-align: right;">0.9643</td>
<td style="text-align: right;">0.1282</td>
<td style="text-align: right;">6.9231</td>
<td style="text-align: right;">0.8905</td>
<td style="text-align: right;">0.1153</td>
<td style="text-align: right;">3.0849</td>
<td style="text-align: right;">0.2980</td>
<td style="text-align: right;">0.0970</td>
</tr>
<tr class="odd">
<td style="text-align: left;">8</td>
<td style="text-align: right;">0.9554</td>
<td style="text-align: right;">9.7863</td>
<td style="text-align: right;">2.1072</td>
<td style="text-align: right;">4.5678</td>
<td style="text-align: right;">213.5276</td>
<td style="text-align: right;">0.0957</td>
<td style="text-align: right;">0.1542</td>
<td style="text-align: right;">1.2045</td>
<td style="text-align: right;">3652.8265</td>
<td style="text-align: right;">311.9964</td>
<td style="text-align: right;">0.4860</td>
<td style="text-align: right;">0.4826</td>
<td style="text-align: right;">0.5005</td>
<td style="text-align: right;">3.0804</td>
<td style="text-align: right;">-0.6754</td>
<td style="text-align: right;">-0.8152</td>
<td style="text-align: right;">0.3386</td>
<td style="text-align: right;">0.1506</td>
<td style="text-align: right;">0.3947</td>
<td style="text-align: right;">-3.0908</td>
<td style="text-align: right;">0.5258</td>
<td style="text-align: right;">4.8153</td>
<td style="text-align: right;">0.9537</td>
<td style="text-align: right;">0.1282</td>
<td style="text-align: right;">5.2821</td>
<td style="text-align: right;">0.7320</td>
<td style="text-align: right;">0.1161</td>
<td style="text-align: right;">3.2357</td>
<td style="text-align: right;">0.2402</td>
<td style="text-align: right;">0.0697</td>
</tr>
<tr class="even">
<td style="text-align: left;">9</td>
<td style="text-align: right;">0.9437</td>
<td style="text-align: right;">9.9481</td>
<td style="text-align: right;">2.5926</td>
<td style="text-align: right;">3.7773</td>
<td style="text-align: right;">235.4352</td>
<td style="text-align: right;">0.0225</td>
<td style="text-align: right;">0.0873</td>
<td style="text-align: right;">0.8474</td>
<td style="text-align: right;">6052.3637</td>
<td style="text-align: right;">443.4830</td>
<td style="text-align: right;">0.4147</td>
<td style="text-align: right;">0.4100</td>
<td style="text-align: right;">0.5619</td>
<td style="text-align: right;">4.7507</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.3219</td>
<td style="text-align: right;">0.0942</td>
<td style="text-align: right;">0.3339</td>
<td style="text-align: right;">-3.4867</td>
<td style="text-align: right;">0.1666</td>
<td style="text-align: right;">7.0102</td>
<td style="text-align: right;">0.9662</td>
<td style="text-align: right;">0.0641</td>
<td style="text-align: right;">3.6667</td>
<td style="text-align: right;">0.7386</td>
<td style="text-align: right;">0.1163</td>
<td style="text-align: right;">3.4232</td>
<td style="text-align: right;">0.1907</td>
<td style="text-align: right;">0.0490</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">CritValue_Duda</th>
<th style="text-align: right;">CritValue_PseudoT2</th>
<th style="text-align: right;">Fvalue_Beale</th>
<th style="text-align: right;">CritValue_Gap</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2</td>
<td style="text-align: right;">0.2019</td>
<td style="text-align: right;">31.6230</td>
<td style="text-align: right;">0.2766</td>
<td style="text-align: right;">0.7534</td>
</tr>
<tr class="even">
<td style="text-align: left;">3</td>
<td style="text-align: right;">0.0160</td>
<td style="text-align: right;">246.4030</td>
<td style="text-align: right;">0.0787</td>
<td style="text-align: right;">0.2949</td>
</tr>
<tr class="odd">
<td style="text-align: left;">4</td>
<td style="text-align: right;">-0.1694</td>
<td style="text-align: right;">-13.8056</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: right;">0.6048</td>
</tr>
<tr class="even">
<td style="text-align: left;">5</td>
<td style="text-align: right;">-0.1694</td>
<td style="text-align: right;">-13.8056</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: right;">0.2346</td>
</tr>
<tr class="odd">
<td style="text-align: left;">6</td>
<td style="text-align: right;">-0.3257</td>
<td style="text-align: right;">-4.0703</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: right;">0.5672</td>
</tr>
<tr class="even">
<td style="text-align: left;">7</td>
<td style="text-align: right;">-0.3257</td>
<td style="text-align: right;">-4.0703</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: right;">0.3163</td>
</tr>
<tr class="odd">
<td style="text-align: left;">8</td>
<td style="text-align: right;">-0.3257</td>
<td style="text-align: right;">-4.0703</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: right;">0.5663</td>
</tr>
<tr class="even">
<td style="text-align: left;">9</td>
<td style="text-align: right;">-0.5879</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">NaN</td>
<td style="text-align: right;">0.3864</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">KL</th>
<th style="text-align: right;">CH</th>
<th style="text-align: right;">Hartigan</th>
<th style="text-align: right;">CCC</th>
<th style="text-align: right;">Scott</th>
<th style="text-align: right;">Marriot</th>
<th style="text-align: right;">TrCovW</th>
<th style="text-align: right;">TraceW</th>
<th style="text-align: right;">Friedman</th>
<th style="text-align: right;">Rubin</th>
<th style="text-align: right;">Cindex</th>
<th style="text-align: right;">DB</th>
<th style="text-align: right;">Silhouette</th>
<th style="text-align: right;">Duda</th>
<th style="text-align: right;">PseudoT2</th>
<th style="text-align: right;">Beale</th>
<th style="text-align: right;">Ratkowsky</th>
<th style="text-align: right;">Ball</th>
<th style="text-align: right;">PtBiserial</th>
<th style="text-align: right;">Gap</th>
<th style="text-align: right;">Frey</th>
<th style="text-align: right;">McClain</th>
<th style="text-align: right;">Gamma</th>
<th style="text-align: right;">Gplus</th>
<th style="text-align: right;">Tau</th>
<th style="text-align: right;">Dunn</th>
<th style="text-align: right;">Hubert</th>
<th style="text-align: right;">SDindex</th>
<th style="text-align: right;">Dindex</th>
<th style="text-align: right;">SDbw</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Number_clusters</td>
<td style="text-align: right;">6.0000</td>
<td style="text-align: right;">6.00</td>
<td style="text-align: right;">6.0000</td>
<td style="text-align: right;">2.0000</td>
<td style="text-align: right;">8.0000</td>
<td style="text-align: right;">4.0000</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">8.000</td>
<td style="text-align: right;">6.0000</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">9.00</td>
<td style="text-align: right;">9.0000</td>
<td style="text-align: right;">2.0000</td>
<td style="text-align: right;">2.0000</td>
<td style="text-align: right;">2.0000</td>
<td style="text-align: right;">4.0000</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">2.000</td>
<td style="text-align: right;">2.0000</td>
<td style="text-align: right;">2.000</td>
<td style="text-align: right;">2.0000</td>
<td style="text-align: right;">9.0000</td>
<td style="text-align: right;">9.0000</td>
<td style="text-align: right;">2.0000</td>
<td style="text-align: right;">7.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5.0000</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Value_Index</td>
<td style="text-align: right;">2.4474</td>
<td style="text-align: right;">10.71</td>
<td style="text-align: right;">2.1492</td>
<td style="text-align: right;">7.5851</td>
<td style="text-align: right;">30.3968</td>
<td style="text-align: right;">5.7226</td>
<td style="text-align: right;">7.9756</td>
<td style="text-align: right;">1.3603</td>
<td style="text-align: right;">2458.334</td>
<td style="text-align: right;">-10.9512</td>
<td style="text-align: right;">0.3951</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.5619</td>
<td style="text-align: right;">0.6156</td>
<td style="text-align: right;">4.9946</td>
<td style="text-align: right;">1.3398</td>
<td style="text-align: right;">0.4303</td>
<td style="text-align: right;">2.9003</td>
<td style="text-align: right;">0.502</td>
<td style="text-align: right;">-0.9326</td>
<td style="text-align: right;">1.037</td>
<td style="text-align: right;">0.4096</td>
<td style="text-align: right;">0.9662</td>
<td style="text-align: right;">0.0641</td>
<td style="text-align: right;">10.8974</td>
<td style="text-align: right;">0.8905</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.3482</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.049</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CamdenTown</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">EustonTap</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MarchmontGarden</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">MonumentoGaribaldi</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PancrasLock</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">RegentsParkFields</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RegentsParkJapan</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">RussellSq</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SanMarco</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">StPaulsCross</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">StPaulsRow</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">TateModern</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TorringtonSq</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_nbclust</span>(res)</span></code></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in if (class(best_nc) == "numeric") print(best_nc) else if (class(best_nc) == : the condition has length &gt; 1</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">k <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb15-2">k.fit <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kmeans</span>(means, k)</span>
<span id="cb15-3">knitr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(k.fit)</span></code></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in as.data.frame.default(x): cannot coerce class '"kmeans"' to a data.frame</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_cluster</span>(k.fit, means, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repel=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ggtheme =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>())</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1">res.pca <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prcomp</span>(means, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb18-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facto_summarize</span>(res.pca, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"var"</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>           name      Dim.1      Dim.2     coord      cos2  contrib
Traffic Traffic -0.8891690 -0.1531570 0.8140785 0.8140785 22.70701
Other     Other -0.9153206 -0.1088317 0.8496561 0.8496561 23.69937
Natural Natural  0.8316428 -0.5046107 0.9462617 0.9462617 26.39398
Human     Human  0.1897201  0.9690987 0.9751460 0.9751460 27.19965</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_contrib</span>(res.pca, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"var"</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">fit <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">eclust</span>(means, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"kmeans"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">k=</span>k)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1">h.fit <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">eclust</span>(means, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hclust"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">k=</span>k, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stand =</span> T, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hc_method =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ward.D2"</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `&lt;scale&gt;` argument of `guides()` cannot be `FALSE`. Use "none" instead as
of ggplot2 3.3.4.
ℹ The deprecated feature was likely used in the factoextra package.
  Please report the issue at &lt;https://github.com/kassambara/factoextra/issues&gt;.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_dend</span>(h.fit, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels_track_height =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">horiz=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rect =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cex =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="methods-i-havent-really-tested-out-thoroughly" class="level2">
<h2 class="anchored" data-anchor-id="methods-i-havent-really-tested-out-thoroughly">Methods I haven’t really tested out thoroughly</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_pca_biplot</span>(res.pca, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repel=</span>T,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ggtheme =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>())</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="fviz_silhouette" class="level3">
<h3 class="anchored" data-anchor-id="fviz_silhouette"><code>fviz_silhouette()</code></h3>
<p>Silhouette (Si) analysis is a cluster validation approach that measures how well an observation is clustered and it estimates the average distance between clusters.</p>
<p><strong>Details</strong></p>
<ul>
<li>Observations with a large silhouette Si (almost 1) are very well clustered</li>
<li>A small Si (around 0) means that the observation lies between two clusters</li>
<li>Observations with a negative Si are probably placed in the wrong cluster</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fviz_silhouette</span>(h.fit)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  cluster size ave.sil.width
1       1    5          0.32
2       2    8          0.32</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="get_clust_tendency" class="level3">
<h3 class="anchored" data-anchor-id="get_clust_tendency"><code>get_clust_tendency</code></h3>
<p>Before applying cluster methods, the first step is to assess whether the data is clusterable, a process defined as the <strong>assessing of clustering tendency</strong>. <code>get_clust_tendency()</code> assesses clustering tendency using Hopkins’ statistic and a visual approach.</p>
<p><strong>Details</strong></p>
<p><strong>Hopkins Statistic:</strong> If the value of Hopkins statistic is close to 1 (far above 0.5), then we can conclude that the dataset is significantly clusterable.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>$hopkins_stat
[1] 0.6977892

$plot</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{mitchell2020,
  author = {Mitchell, Andrew},
  title = {Clustering Analysis in {R,} with `Factoextra` and
    {`NbClust`}},
  date = {2020-06-18},
  url = {https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-mitchell2020" class="csl-entry quarto-appendix-citeas">
Mitchell, Andrew. 2020. <span>“Clustering Analysis in R, with
`Factoextra` and `NbClust`.”</span> June 18, 2020. <a href="https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/">https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/</a>.
</div></div></section></div> ]]></description>
  <category>soundscape</category>
  <category>PhD</category>
  <category>machine learning</category>
  <guid>https://drandrewmitchell.com/posts/2020-06-18_cluster-analysis-in-r/</guid>
  <pubDate>Thu, 18 Jun 2020 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Book Diary 3 - Foundation</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/2020-04-09_book-diary-3/</link>
  <description><![CDATA[ 





<p>I’ve been on a bit of a classic science fiction trend for the last six months or so, only broken up by some classic Americana apocalyptica with <em>It Can’t Happen Here</em> by Sinclair Lewis (I’ll get to its write up at some point!). <a href="https://smile.amazon.co.uk/Foundation-1-3-Isaac-Asimov/dp/0586010807/ref=smi_www_rco2_go_smi_g8682124849?_encoding=UTF8&amp;%2AVersion%2A=1&amp;%2Aentries%2A=0&amp;ie=UTF8"><em>Foundation</em></a> is actually the first Asimov book I remember reading, and it is fantastic (it should be, it won the Hugo award for Best All-time Series)!</p>
<hr>
<p>Made up of five interrelated short stories, Foundation tells the story of a man named Hari Seldon, who invented a new field of science call Psycho-history. The primary conceit of psycho-history is that, using mathematics, and the principles of statistical mechanics of large interacting systems, Seldon can predict the future of human societies. Inspired by concepts from physics, wherein the behaviour of individual particles cannot be predicted but by looking on a macro-enough scale, we can make probabilistic statements about the behaviour of large systems of particles, Asimov has applied these same principles to the prediction of human behaviour.</p>
<p>Repeated over and over again is Seldon’s mantra that single humans both cannot be predicted and cannot change the course of the system, instead the human society, as a system, is driven by its complex internal interactions, toward a series of probabilities. By solving these equations and modelling these interactions, Seldon predicts that the galactic Empire in which he lives will soon collapse. Because of the principles of his psycho-history, he knows he can do nothing to stop this, but he can help to speed of the process of recovery. Without his intervention, he predicts it would take 30,000 for the Empire to recover from barbarism, but if he can find a way to preserve some of the existing scientific knowledge, this could be reduced to 1,000 years. To do this, he creates the eponymous Foundation based on two planets at opposite ends of the galaxy to create an Encyclopedia to preserve science. What follows are the stories of the Foundation following the collapse of the Empire and the inevitable successes of Seldon’s predictions and eventual mistakes.</p>
<hr>
<p>I think this story, and the concept of psychohistory particular intrigue me now because of the nature of my research. I and our research group are essentially trying to build statistical models of human perception. Like Seldon, we generally accept that it is impossible to predict the perception of a single person, but once a large enough scale is considered, statistical probabilities take over. Also like Seldon, we believe a key point to be that the subjects should not be aware of the study, lest they adjust their behaviour (although we haven’t solved this issue).</p>
<p>As we move further and further into the Algorithm age, with more complex system models which consider increasingly complex interacting factors, I think psychohistory will be on many researcher’s minds. Not as an aspiration, since I don’t think any serious scientist would buy that, but as potential source of learning. Science fiction has always allowed thinkers and scientists to view their work in new ways, and to consider the consequences of the advances they may make.</p>
<p>I hope we can all be inspired and cautioned by great thinkers such as Isaac Asimov.</p>
<hr>
<p>I’ve also finished <em>Foundation and Empire</em>, the sequel, and I’m currently working my way through <em>Prelude to Foundation</em>, which I’m very excited about as it goes more in depth about the development of psychohistory.</p>
<p>During my science fiction stint I also read the <em>Dune</em> series by Frank Herbert, so hopefully I’ll write that one up soon too.</p>
<p><strong>For further ‘reading’</strong> on the age of algorithms:</p>
<ul>
<li><a href="https://www.wired.com/story/rethinking-relationship-artificial-intelligence/">Sleepwalkers</a> podcast</li>
<li><a href="http://www.hannahfry.co.uk/helloworld"><em>Hello World: How to Be Human in the Age of the Machine</em></a> by Hannah Fry</li>
</ul>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>book diary</category>
  <category>personal</category>
  <guid>https://drandrewmitchell.com/posts/2020-04-09_book-diary-3/</guid>
  <pubDate>Thu, 09 Apr 2020 00:00:00 GMT</pubDate>
  <media:content url="https://drandrewmitchell.com/posts/2020-04-09_book-diary-3/foundation.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Book Diary 2 - Bad Science</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/2019-05-11_book-diary-2/</link>
  <description><![CDATA[ 





<p>While I generally enjoyed the book, and I wholeheartedly support Goldacre’s goal and overall point, I was a bit disappointed by this book. I was initially inspired to pick it up by a friend recommending his book <a href="https://www.goodreads.com/book/show/15795155-bad-pharma"><em>Bad Pharma</em></a>.</p>
<p>I had hoped that Bad Science would move away from his focus on medicine and turn instead to addressing mistakes and malpractice in science more generally. To my (only slight) disappointment, Goldacre hasn’t strayed far from his usual territory of medical frauds, mistakes, and hucksters.</p>
<p>My personal disappointment notwithstanding, this is in the end a well-written, well-researched, entertaining, and educational trawl through the depths of homeopaths and their overly diluted morals.</p>
<hr>
<p>As always, I enjoy the insertion of personal details about the author, reminding me that there’s an actual person writing the words and that I’m allowed to both relate to and associate myself with the man behind the page, and to question and criticize him. Specific to this author was his mention of renting a small flat in Kentish Town on a junior medic’s salary – which I read while sat in a cafe next to my (smaller) flat in Kentish Town rented on a doctoral student’s stipend. While I suspect, with his multiple bestseller books, recognitions, and awards, Goldacre no longer rents a small flat in Kentish Town, it’d be nice to imagine having a friendly chat with him in the cafe.</p>
<p>I felt the chapter ‘Pill Solves Complex Societal Problem’ was the most impactful. Here, Goldacre expands his discussion about the mechanics of poorly done science to address the media response to it and, more importantly, the potential motivations behind it. See this quote from page 154:</p>
<blockquote class="blockquote">
<p>But above all we should pay tribute to the genius of this huge fish-oil project, and every other nutritionist who has gotten their pills into the media, and into schools, because more than anything else, they have sold children, at the most impressionable time of their lives, one very compelling message: <strong>that you need to take pills to lead a healthy normal life, and that a pill can even make up for failings elsewhere</strong>.</p>
</blockquote>
<p>What I can absolutely get behind is the view Goldacre reiterates over and over in the last few chapters: the blame for the dissemination of bad, misleading, or malicious science is not down to the bad actions of individual malevolent or ignorant scientists, but instead falls on the head of the system of media which not only allows this bad science to be spread, but encourages its spread. The individual scientists should absolutely be punished if wrong-doing is discovered, and bad practices should be stamped out, but the media system which publicises this work has a journalistic responsibility to look critically at everything it publishes. In general, it is more productive and more correct to lay the blame for societal issues at the feet of systems, not individuals.</p>
<blockquote class="blockquote">
<p>You’ll notice, I hope, that I’m more interested in the cultural impact of nonsense – the medicalisation of everyday life, the undermining of sense – and in general <strong>I blame systems more than particular people</strong>. […] I do not blame individual journalists (for the most part) but I do blame whole systems of editors, and the people who buy newspapers with values to profess to despise.</p>
</blockquote>
<hr>
<p>As I’ve said, I thoroughly enjoyed <em>Bad Science</em> and I applaud Goldacre’s writing and his ability to distill the important aspects of scientific research into a wide-ranging and engaging discussion, but I hope he someday chooses to move beyond medicine and discuss ‘science’ more fully. As he notes in his afterword,</p>
<blockquote class="blockquote">
<p>…in the 1950s science reporting was about engineering and inventions, but by the 1990s everything had changed. Science coverage now tends to come from the world of medicine, and the stories are of what will kill you, or save you.</p>
</blockquote>
<p>People have forgotten that science can be about more than medicine and about more than our constant human obsession with death and illness, and I’d like to see more authors remind us of that.</p>
<p><strong>Further reading</strong>: <a href="https://en.m.wikipedia.org/wiki/List_of_animals_with_fraudulent_diplomas">https://en.m.wikipedia.org/wiki/List_of_animals_with_fraudulent_diplomas</a></p>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>book diary</category>
  <category>personal</category>
  <guid>https://drandrewmitchell.com/posts/2019-05-11_book-diary-2/</guid>
  <pubDate>Sat, 11 May 2019 00:00:00 GMT</pubDate>
  <media:content url="https://drandrewmitchell.com/posts/2019-05-11_book-diary-2/bad-science.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Book Diary 1 - The Kingdom</title>
  <dc:creator>Andrew Mitchell</dc:creator>
  <link>https://drandrewmitchell.com/posts/2019-05-10_book-diary-1/</link>
  <description><![CDATA[ 





<p>I’ve started writing short ‘reviews’ of all of the books I’m reading in a book diary I bought while in Venice. I decided I might as well sheare them here, so welcome to my book diary, starting with my favourite author, Emmanuel Carrère. These are not full reviews, they won’t give you really any background on the plot or context of the book. These were intended as notes to my future self looking back on the books I’ve read and so they are more personal, and, possibly, more intimate and engaging. I hope someone enjoys, even if it’s just old-man Andrew.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://drandrewmitchell.com/posts/2019-05-10_book-diary-1/the-kingdom.jpg" class="img-fluid figure-img"></p>
<figcaption><em>The Kingdom</em> by Emmanuel Carrère</figcaption>
</figure>
</div>
<p>I’ve read this several times now, and always come away with something different. This time, it is a terrible sadness and contemplation of love and life, so much so that I have written a letter to the author expressing it. Who knows if I’ll send it, and what his response will be.</p>
<p>But, what I should say is I LOVE this book. It satisfies my academic side with a wonderful semi-historical look at the writing of the early Bible and formation of the Church. Interspersed are stories from the author’s life and his reflections on authorship, on religiosity, on conversion.</p>
<p>It’s a gorgeously composed work of tremendous talent. Probably my favourite book I’ve ever read.</p>
<section id="extra-info" class="level2">
<h2 class="anchored" data-anchor-id="extra-info">Extra info:</h2>
<p><strong>Date finished</strong>: March 10, 2019</p>
<p><strong>Title</strong>: <em>The Kingdom</em></p>
<p><strong>Author</strong>: Emmanuel Carrère</p>
<p><strong>Publisher</strong>: Penguin Random House UK</p>
<p><strong>Date Published</strong>: 2017</p>
<p><strong>Bookstore/Library</strong>: Can’t remember</p>
<p><strong>Suggested/found by</strong>: <a href="https://www.newyorker.com/magazine/2017/07/10/the-radical-origins-of-christianity"><em>The New Yorker</em> Review</a></p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div> ]]></description>
  <category>book diary</category>
  <category>personal</category>
  <guid>https://drandrewmitchell.com/posts/2019-05-10_book-diary-1/</guid>
  <pubDate>Fri, 10 May 2019 00:00:00 GMT</pubDate>
  <media:content url="https://drandrewmitchell.com/posts/2019-05-10_book-diary-1/the-kingdom.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
